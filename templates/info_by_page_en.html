<!DOCTYPE html>
<html>
  <head>
    <title>Feedbak by page</title>

<style>
      table,
      th,
      td {
        padding: 10px;
        border: 1px solid black;
        border-collapse: collapse;
      }
    </style>

  </head>
  <body>

<h1>Feedback data for {{ page }}</h1>
<p>Feedback from <strong>{{ start_date }}</strong> to <strong>{{ end_date }}</strong>: </p>
<h2>On this page</h2>
<ul>
<li><a href="#found">Found their answer?</a</li>
<li><a href="#frequent">Most frequent words in feedback</a></li>
<li><a href="#reason">Feedback by reason</a></li>
<li><a href="#tag">Feedback by tag</a></li>
</ul>
<h2 id="found">Found their answer?</h2>

<p><strong>Yes:</strong> {{ yes }}</p>
<p><strong>No:</strong> {{ no }}</p>
<p>Average for the period: <strong>{{ score }}%</strong></p>
<h3>Over time</h3>
<img src="data:image/png;base64, {{ plot_url }}">

<h2 id="frequent">Most frequent words in feedback</h2>
<p>{{ most_common }}</p>

<h2 id="reason">Feedback by reason</h2>
<table>
    <tr>
        {% for col in reason_column_names %}
        <th>{{col}}</th>
        {% endfor %}
    </tr>
        {% for row in row_data_reason %}
    <tr>
      {% for col, row_ in zip(reason_column_names, row) %}
      <td>{{row_}}</td>
      {% endfor %}
      </tr>
      {% endfor %}
</table>

<h2 id="tag">Feedback by tag</h2>
<table>
    <tr>
        {% for col in column_names %}
        <th>{{col}}</th>
        {% endfor %}
    </tr>
        {% for row in row_data %}
    <tr>
      {% for col, row_ in zip(column_names, row) %}
      <td>{{row_}}</td>
      {% endfor %}
      </tr>
      {% endfor %}
</table>

</body>
</html>
